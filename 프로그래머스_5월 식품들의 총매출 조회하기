SELECT FP.PRODUCT_ID, FP.PRODUCT_NAME, SUM(FO.AMOUNT * FP.PRICE) AS TOTAL_SALES
FROM FOOD_PRODUCT FP
LEFT JOIN FOOD_ORDER FO
ON FP.PRODUCT_ID = FO.PRODUCT_ID
WHERE TO_CHAR(PRODUCE_DATE, 'YYYY-MM') = '2022-05'
GROUP BY FP.PRODUCT_ID, FP.PRODUCT_NAME
ORDER BY TOTAL_SALES DESC, PRODUCT_ID

-- GROUP BY 절에 두개의 COLUMN을 사용하는 이유는 데이터를 그룹화하고 그룹화된 결과에서
-- 집계함수를 사용하기 위해서이다. 위 쿼리의 GROUP BY 절은 두가지 열을 기준으로 데이터를
-- 그룹화하고 각 그룹 내에서 SUM 함수를 사용하여 판매량을 계산하고 있음
